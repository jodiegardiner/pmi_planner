{% extends "base.html" %}
{% load staticfiles %}
{% block head_js %}
    <script>

        $(document).ready(function() {
            $('#address').editable();
            $('#email').editable();
            $('#phone').editable();
            $('#c_notes').editable();
            $('.editable').editable();
            $('#p_due_date').editable();
            $.fn.editable.defaults.mode = 'inline';
        });
    </script>
{% endblock %}
{% block content %}

    <p>
        <button class="btn btn-primary btn-pmi" onclick="location.href='/client'">Back to Clients</button>
    </p>
    <div class="row">
        <div class="col-md-12">
            <div class="client-header">
                <span>Client detail</span>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4 col-sm-4 mb">
            <div class="white-panel showback pn">
                <h3>{{ client.name }}</h3>
                <hr>
                <p class="text-muted"><i class="fa fa-map-marker"></i><a href="#" id="address" data-type="text" data-pk="{{ client.id }}" data-url="/update_add/" data-title="Update address" data-params="{csrfmiddlewaretoken:'{{csrf_token}}'}">{{ client.address }}</a></p>
                <p class="text-muted"><i class="fa fa-envelope"></i><a href="#" id="email" data-type="text" data-pk="{{ client.id }}" data-url="/update_email/" data-title="Update email" data-params="{csrfmiddlewaretoken:'{{csrf_token}}'}">{{ client.email }}</a></p>
                <p class="text-muted"><i class="fa fa-phone"></i><a href="#" id="phone" data-type="text" data-pk="{{ client.id }}" data-url="/update_phone/" data-title="Update phone number" data-params="{csrfmiddlewaretoken:'{{csrf_token}}'}">{{ client.phone }}</a></p>

            </div>
        </div>
        <div class="col-md-8 col-sm-8 mb">
            <div class="white-panel showback pn">
                <h3>Notes</h3>
                <hr>
                <p class="text-muted"><a href="#" id="c_notes" data-type="textarea" data-pk="{{ client.id }}" data-url="/update_c_notes/" data-title="Update client notes" data-params="{csrfmiddlewaretoken:'{{csrf_token}}'}">{{ client.notes }}</a></p>

            </div>
        </div>

    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="client-header">
                <span>Pregnancies</span>
            </div>
        </div>
    </div>
    {% for preg in pregs %}
        <div class="row">

            <div class="col-md-8 col-sm-8 mb">
                <div class="white-panel showback pn">
                    <h3>Notes</h3>
                    <hr>

                    <p class="text-muted"><a class="editable" href="#" data-type="textarea" data-pk="{{ preg.id }}" data-url="/update_p_notes/" data-title="Update notes" data-params="{csrfmiddlewaretoken:'{{csrf_token}}'}">{{ preg.notes }}</a></p>

                </div>
            </div>


            <div class="col-md-4 col-sm-4 mb">
                <div class="white-panel showback pn">
                    <h3>Due Date</h3>
                    <hr>

                    <p class="text-muted"><a class="editable" href="#" id="p_due_date" data-type="date" data-pk="{{ preg.id }}" data-url="/update_due_date/" data-title="Update due date" data-params="{csrfmiddlewaretoken:'{{csrf_token}}'}">{{ preg.due_date }}</a></p>
                </div>
            </div>
            <hr>
        </div>
    {% endfor %}
    <div class="row">
        <div class="col-md-3 col-sm-3">

            {#                        <button class="btn btn-default" onclick="location.href='edit'">Edit</button>#}
            <p>
                <button class="btn btn-primary btn-pmi" onclick="location.href='/client'">Back to Clients</button>

            </p>
        </div>
    </div>

{% endblock content %}